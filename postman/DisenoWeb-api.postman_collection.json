{
  "info": {
    "_postman_id": "d2b92b86-3d6a-4f6f-b1f4-30d7c7a8c001",
    "name": "DisenoWeb API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Colección para probar la API JSON de DisenoWeb (comentarios con respuestas, valoraciones 1-5 y reacciones)."
  },
  "item": [
    {
      "name": "Health",
      "request": {
        "method": "GET",
        "url": { "raw": "{{baseUrl}}/", "host": ["{{baseUrl}}"], "path": [""] }
      }
    },
    {
      "name": "Roles",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/roles" } }
      ]
    },
    {
      "name": "Usuarios",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/usuarios" } }
      ]
    },
    {
      "name": "Sitios Turísticos",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/sitiosturisticos" } },
        {
          "name": "Estadísticas Valoraciones",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/valoraciones/sitio/{{sitioId}}/estadisticas" }
        },
        {
          "name": "Estadísticas Reacciones",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/reacciones/sitio/{{sitioId}}/estadisticas" }
        },
        {
          "name": "Comentarios (incluye respuestas)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/comentarios/sitio/{{sitioId}}" }
        },
        {
          "name": "Valoraciones (lista)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/valoraciones/sitio/{{sitioId}}" }
        },
        {
          "name": "Reacciones (lista)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/reacciones/sitio/{{sitioId}}" }
        }
      ]
    },
    {
      "name": "Hoteles",
      "item": [
        { "name": "List", "request": { "method": "GET", "url": "{{baseUrl}}/api/hoteles" } },
        {
          "name": "Estadísticas Valoraciones",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/valoraciones/hotel/{{hotelId}}/estadisticas" }
        },
        {
          "name": "Estadísticas Reacciones",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/reacciones/hotel/{{hotelId}}/estadisticas" }
        },
        {
          "name": "Comentarios (incluye respuestas)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/comentarios/hotel/{{hotelId}}" }
        },
        {
          "name": "Valoraciones (lista)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/valoraciones/hotel/{{hotelId}}" }
        },
        {
          "name": "Reacciones (lista)",
          "request": { "method": "GET", "url": "{{baseUrl}}/api/reacciones/hotel/{{hotelId}}" }
        }
      ]
    },
    {
      "name": "Comentarios",
      "item": [
        {
          "name": "Crear comentario sitio",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"texto\": \"Hermoso lugar, volveré\",\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"sitioId\": \"{{sitioId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/comentarios"
          }
        },
        {
          "name": "Crear comentario hotel",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"texto\": \"Servicio excelente\",\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"hotelId\": \"{{hotelId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/comentarios"
          }
        },
        {
          "name": "Responder comentario",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"texto\": \"Totalmente de acuerdo\"\n}"
            },
            "url": "{{baseUrl}}/api/comentarios/{{comentarioId}}/responder"
          }
        }
      ]
    },
    {
      "name": "Valoraciones",
      "item": [
        {
          "name": "Crear valoracion sitio (1-5)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"puntuacion\": 5,\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"sitioId\": \"{{sitioId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/valoraciones"
          }
        },
        {
          "name": "Crear valoracion hotel (1-5)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"puntuacion\": 4,\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"hotelId\": \"{{hotelId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/valoraciones"
          }
        }
      ]
    },
    {
      "name": "Reacciones",
      "item": [
        {
          "name": "Me gusta sitio",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"meGusta\": true,\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"sitioId\": \"{{sitioId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/reacciones"
          }
        },
        {
          "name": "No me gusta hotel",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"meGusta\": false,\n  \"usuarioId\": \"{{usuarioId}}\",\n  \"hotelId\": \"{{hotelId}}\"\n}"
            },
            "url": "{{baseUrl}}/api/reacciones"
          }
        }
      ]
    },
    { "name": "Reservaciones", "request": { "method": "GET", "url": "{{baseUrl}}/api/reservaciones" } },
    { "name": "Pagos", "request": { "method": "GET", "url": "{{baseUrl}}/api/pagos" } }
  ],
  "variable": [
    { "key": "baseUrl", "value": "https://localhost:7057" },
    { "key": "sitioId", "value": "33333333-3333-3333-3333-333333333333" },
    { "key": "hotelId", "value": "55555555-5555-5555-5555-555555555555" },
    { "key": "usuarioId", "value": "bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb" },
    { "key": "comentarioId", "value": "77777777-7777-7777-7777-777777777777" }
  ]
}
